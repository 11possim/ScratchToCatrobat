#==================================================================================================
# Define and update parameters here
#==================================================================================================
catroid_version: v0.9.23
xstream_class_name: XStreamToSupportCatrobatLanguageVersion099AndBefore
archive_extension: "zip"
URL: "https://github.com/Catrobat/Catroid/archive/master.%{archive_extension}"
#URL: "https://github.com/Catrobat/Catroid/archive/%{catroid_version}.%{archive_extension}"
xstream_version: "1.4.7"
xstream_lib_extension: "jar"
xstream_download_URL: "http://repo.maven.apache.org/maven2/com/thoughtworks/xstream/xstream/%{xstream_version}/xstream-%{xstream_version}.%{xstream_lib_extension}"
download_path: "./workspace/input"
output_path: "./workspace/output"
output_src_path: "%{output_path}/src"
output_lib_path: "%{output_path}/lib"
relative_code_source_path: "catroid/src"


#==================================================================================================
# Include/exclude settings
#==================================================================================================
removed_classes: [
    # legoNXT bricks
    LegoNXTSetting, LegoNxtMotorMoveBrick, LegoNxtMotorStopBrick,
    LegoNxtMotorTurnAngleBrick, LegoNxtPlayToneBrick,

    # Phiro bricks
    PhiroMotorMoveBackwardBrick,
    PhiroMotorMoveForwardBrick, PhiroMotorStopBrick, PhiroPlayToneBrick,
    PhiroRGBLightBrick, PhiroIfLogicBeginBrick,

    # Arduino bricks
    ArduinoSendDigitalValueBrick, ArduinoSendPWMValueBrick,

    # drone bricks
    DroneEmergencyBrick, DroneFlipBrick, DroneMoveBackwardBrick,
    DroneMoveBrick, DroneMoveDownBrick, DroneMoveForwardBrick,
    DroneMoveLeftBrick, DroneMoveRightBrick, DroneMoveUpBrick,
    DronePlayLedAnimationBrick, DroneSwitchCameraBrick,
    DroneTakeOffLandBrick, DroneTurnLeftBrick, DroneTurnRightBrick,

    # NFC bricks
    WhenNfcBrick, WhenNfcScript,

    # Raspi bricks
    RaspiPwmBrick, RaspiSendDigitalValueBrick, RaspiInterruptScript,

    # physics bricks
    CollisionScript, CollisionReceiverBrick, SetBounceBrick, SetFrictionBrick,
    SetGravityBrick, SetMassBrick, SetPhysicsObjectTypeBrick, SetVelocityBrick,
    TurnLeftSpeedBrick, TurnRightSpeedBrick
]

removed_method_invocations:
    ["Log.*", "MessageContainer.*", "setBounds", "setOrigin", "setScale",
     "setRotation", "setTouchable", "addListeners", "createCatroidRoot",
     "Utils.updateScreenWidthAndHeight", "setDeviceData", "prepareBackpackGson"]

additional_serialization_classes:
    - AllowedAfterDeadEndBrick
    - Brick
    - Constants
    - DeadEndBrick
    - DroneBrick
    - DroneMoveBrick
    - ElementType
    - Formula
    - FormulaElement
    - Functions
    - Operators
    - NestingBrick
    - ScreenModes
    - ScreenValues
    - ScriptBrick
    - Sensors
    - Look
    - StorageHandler
    - SetTextBrick
    - ProjectManager
    - UserListBrick
    - UserVariableBrick

preserved_interfaces:
    [Brick, BroadcastMessage, Converter, LoopBeginBrick, MindstormsSensor,
    MindstormsCommand]

additional_helper_classes:
    - BroadcastMessage
    - Constants
    - CatroidFieldKeySorter
    - UserVariablesContainer
    - ConcurrentFormulaHashMap
    - XStreamBrickConverter
    - XStreamConcurrentFormulaHashMapConverter
    - XStreamScriptConverter
    - XStreamSettingConverter
    - LOOKUP
    - "%{xstream_class_name}"
    - XStreamUserVariableConverter
    # exception classes
    - ProjectException
    - CompatibilityProjectException
    - LoadingProjectException
    - OutdatedVersionProjectException
    - FileChecksumContainer

class_to_preserved_fields_mapping:
    BroadcastReceiverBrick:
        - broadcastMessage
    FormulaElement:
        - parent
    PlaySoundBrick:
        - oldSelectedSound
    PointToBrick:
        - oldSelectedObject
    Script:
        - brick
    Sprite:
        [look, isPaused, newUserBrickNext, isBackpackObject]
    SetLookBrick:
        - oldSelectedLook
    UserVariable:
        - value
    WhenScript:
        - position
    ProjectManager:
        [INSTANCE, project, currentScript, currentSprite, currentUserBrick]
    SoundInfo:
        - isBackpackSoundInfo
    IfLogicBeginBrick:
        [ifElseBrick, ifEndBrick]
    IfLogicElseBrick:
        [ifBeginBrick, ifEndBrick]
    IfLogicEndBrick:
        [ifBeginBrick, ifElseBrick]
    ForeverBrick:
        - loopEndBrick
    RepeatBrick:
        - loopEndBrick
    LoopEndBrick:
        - loopBeginBrick
    UserBrick:
        - lastDataVersion
    UserScriptDefinitionBrick:
        - brick
    UserScriptDefinitionBrickElements:
        - version
    UserList:
        - list
    UserBrickParameter:
        - parent
    SetVariableBrick:
        - defaultPrototypeToken

class_to_preserved_methods_mapping:
    Functions:
        - isFunction
        - getFunctionByValue
    BroadcastScript:
        - setBroadcastMessage
        - getBroadcastMessage
        - getScriptBrick
    StartScript:
        - getScriptBrick
    WhenScript:
        - getScriptBrick
    Project:
        - ifLandscapeSwitchWidthAndHeight
        - ifPortraitSwitchWidthAndHeight
        - addSprite
        - setName
        - getName
        - isBackgroundObject
    SoundInfo:
        - compareTo
        - setTitle
        - getTitle
    LookData:
        - setLookFilename
    FormulaElement:
        - getRoot
        - replaceElement
        - replaceWithSubElement
        - clone
    Formula:
        - getRoot
        - clone
    PlaySoundBrick:
        - setSoundInfo
    StorageHandler:
        - getInstance
        - setXstreamAliases
        - getXMLStringOfAProject
        - setProgramXstreamAliases
    ScriptBrick:
        - getScriptSafe
    Sprite:
        - getLookDataList
        - getScript
        - getScriptIndex
        - getNumberOfScripts
        - getUserBrickList
        - addScript
    UserVariablesContainer:
        - addSpriteUserVariableToSprite
        - getOrCreateVariableListForSprite
    FormulaBrick:
        - addAllowedBrickField
        - getFormulaWithBrickField
        - setFormulaWithBrickField
    DataContainer:
        - addUserBrickVariable
        - addUserBrickUserVariableToUserBrick
        - addSpriteUserVariable
        - addSpriteUserVariableToSprite
        - addProjectUserVariable
        - getOrCreateVariableListForUserBrick
        - getOrCreateVariableListForSprite
        - cleanVariableListForSprite
        - getUserVariable
        - getUserVariableContext
        - findUserVariable
        - getUserList
        - addSpriteUserList
        - addSpriteUserListToSprite
        - addProjectUserList
        - getOrCreateUserListListForSprite
        - findUserList
        - getUserList
        - existSpriteList
    AddItemToUserListBrick:
        - initializeBrickFields
    ChangeTransparencyByNBrick:
        - initializeBrickFields
    DeleteItemOfUserListBrick:
        - initializeBrickFields
    InsertItemIntoUserListBrick:
        - initializeBrickFields
    ReplaceItemInUserListBrick:
        - initializeBrickFields
    SetTransparencyBrick:
        - initializeBrickFields
    LoopBeginBrick:
        - getLoopEndBrick
        - setLoopEndBrick
    DroneMoveBrick:
        - initializeBrickFields
    GlideToBrick:
        - initializeBrickFields
    ChangeBrightnessByNBrick:
        - initializeBrickFields
    ChangeGhostEffectByNBrick:
        - initializeBrickFields
    ChangeSizeByNBrick:
        - initializeBrickFields
    ChangeVariableBrick:
        - initializeBrickFields
    ChangeVolumeByNBrick:
        - initializeBrickFields
    ChangeXByNBrick:
        - initializeBrickFields
    ChangeYByNBrick:
        - initializeBrickFields
    GoNStepsBackBrick:
        - initializeBrickFields
    IfLogicBeginBrick:
        - initializeBrickFields
    MoveNStepsBrick:
        - initializeBrickFields
    NoteBrick:
        - initializeBrickFields
    PlaceAtBrick:
        - initializeBrickFields
    PointInDirectionBrick:
        - initializeBrickFields
    RepeatBrick:
        - initializeBrickFields
    SetBrightnessBrick:
        - initializeBrickFields
    SetGhostEffectBrick:
        - initializeBrickFields
    SetSizeToBrick:
        - initializeBrickFields
    SetVariableBrick:
        - initializeBrickFields
    SetVolumeToBrick:
        - initializeBrickFields
    SetXBrick:
        - initializeBrickFields
    SetYBrick:
        - initializeBrickFields
    SpeakBrick:
        - initializeBrickFields
    TurnLeftBrick:
        - initializeBrickFields
    TurnRightBrick:
        - initializeBrickFields
    VibrationBrick:
        - initializeBrickFields
    WaitBrick:
        - initializeBrickFields
    SetTextBrick:
        - initializeBrickFields
    ShowTextBrick:
        - initializeBrickFields
    SetColorBrick:
        - initializeBrickField
    ChangeColorByNBrick:
        - initializeBrickFields
    UserBrick:
        - getUserScriptDefinitionBrickElements
        - copyFormulasMatchingNames
    UserScriptDefinitionBrick:
        - setUserBrick
        - getScriptSafe
    UserScriptDefinitionBrickElements:
        - getUserScriptDefinitionBrickElementList
    WhenBrick:
        - getScriptSafe
    BroadcastReceiverBrick:
        - getScriptSafe
    WhenStartedBrick:
        - getScriptSafe
    ProjectManager:
        - getInstance
        - addSprite
        - addScript
        - spriteExists
    XmlHeader:
        - setlandscapeMode
    NfcTagData:
        - compareTo

remove_fields_mapping:
    Constants:
        [DEFAULT_ROOT, TMP_PATH, TMP_IMAGE_PATH, TMP_LOOKS_PATH, TMP_SOUNDS_PATH, TEXT_TO_SPEECH_TMP_PATH]
    Look:
        [actionsToRestart, pixmap, whenParallelAction, shader]
    NXTSensor:
        - connection
    StorageHandler:
        - backpackGson
    UserListBrick:
        - backPackedData
    UserVariableBrick:
        - backPackedData

remove_methods_mapping:
    ProjectManager:
        [uploadProject, loadProject, cancelLoadProject, canLoadProject, saveProject,
        initializeDefaultProject, initializeDroneProject, initializeNewProject,
        deleteCurrentProject, checkCurrentSprite, checkCurrentScript, deleteProject, renameProject, addSprite,
        addScript]
    Look:
        [copyLookForSprite, createBrightnessContrastShader, checkImageChanged, setWhenParallelAction]
    NXTSensor:
        [resetScaledValue, getSensorReadings, getUpdateInterval,
        updateLastSensorValue, getLastSensorValue]
    StorageHandler:
        - prepareBackpackGson
